"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9922],{4874:(e,a,s)=>{s.d(a,{HI:()=>c,HY:()=>d,Pm:()=>i,XC:()=>o,Y3:()=>n,bm:()=>t});var r=s(12115),l=s(41407);let t={page:{duration:.26,ease:"easeOut"},micro:{type:"spring",stiffness:380,damping:32,mass:.6},smooth:{duration:.22,ease:"easeOut"}},c={page:{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8}},tab:{initial:{opacity:0,x:12},animate:{opacity:1,x:0},exit:{opacity:0,x:-12}},listItem:{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8}},fadeIn:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}};function i(){return!(0,l.I)()}function n(){let e=i(),[a,s]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=window.matchMedia("(min-width: 1024px) and (hover: hover) and (pointer: fine)"),a=()=>s(e.matches);return a(),e.addEventListener("change",a),()=>e.removeEventListener("change",a)},[]),e&&a}function d(e){var a,s;return e.enabled?{whileHover:{y:null!=(a=e.hoverY)?a:-1.5},whileTap:{scale:null!=(s=e.tapScale)?s:.98},transition:t.micro}:{}}function o(e){return e?{whileHover:{y:-4,scale:1.004},transition:t.micro}:{}}},34416:(e,a,s)=>{s.d(a,{$_:()=>O,AC:()=>E,EE:()=>z,Er:()=>A,G1:()=>T,Gk:()=>U,Lz:()=>Y,O2:()=>J,Rd:()=>M,Sl:()=>F,Zg:()=>H,do:()=>R,ke:()=>L,nz:()=>D,wF:()=>q,wq:()=>X});var r=s(95155),l=s(52619),t=s.n(l),c=s(41407),i=s(69434),n=s(26497),d=s(86651),o=s(6191),h=s(29502),u=s(1524),m=s(61362),x=s(52056),p=s(26265),j=s(80019),N=s(68425),b=s(47734),v=s(73697),f=s(10232),g=s(18187),y=s(12723),w=s(4035),_=s(69386),k=s(12115),S=s(64269),C=s(4874);let I={mint:"stat-chip--mint",yellow:"stat-chip--yellow",lilac:"stat-chip--lilac",blue:"stat-chip--blue"},P=["var(--accent-blue)","var(--accent-yellow)","var(--accent-mint)","var(--accent-lilac)"];function E(e){let{className:a,children:s}=e;return(0,r.jsx)("div",{className:(0,S.cn)("super-shell-card",a),children:s})}function z(e){let{tabs:a,active:s}=e,l=(0,c.I)();return(0,r.jsx)("nav",{className:"top-pill-tabs","aria-label":"Main",children:a.map(e=>{let a=s===e.href;return(0,r.jsxs)(t(),{href:e.href,className:(0,S.cn)("pill-tab",a&&"pill-tab--active"),children:[e.label,a&&!l?(0,r.jsx)(i.P.span,{layoutId:"top-pill-active",className:"pill-tab-indicator",transition:{type:"spring",stiffness:420,damping:34}}):null]},e.href)})})}function A(e){let{mode:a,onChange:s}=e,l=(0,c.I)();return(0,r.jsx)("div",{className:"inline-flex rounded-full border p-1",style:{borderColor:"var(--border-soft)",background:"var(--surface-2)"},children:["ceo","company"].map(e=>{let t=a===e;return(0,r.jsxs)("button",{type:"button",onClick:()=>s(e),className:(0,S.cn)("pill-tab","px-3 py-1.5 text-[0.72rem]",t&&"pill-tab--active"),children:["ceo"===e?"CEO":"Empresa",t&&!l?(0,r.jsx)(i.P.span,{layoutId:"dashboard-mode-pill",className:"pill-tab-indicator",transition:{type:"spring",stiffness:420,damping:34}}):null]},e)})})}function L(e){let{value:a,onChange:s,placeholder:l="Search"}=e;return(0,r.jsxs)("label",{className:"table-search-pill min-w-[10.5rem]",children:[(0,r.jsx)(d.A,{className:"h-3.5 w-3.5"}),(0,r.jsx)("input",{value:a,onChange:e=>s(e.target.value),placeholder:l,"aria-label":l})]})}function M(e){let{sidebar:a,header:s,children:l}=e;return(0,r.jsxs)("div",{className:"dashboard-shell",children:[a?(0,r.jsx)("aside",{className:"dashboard-shell__sidebar",children:a}):null,(0,r.jsxs)("section",{className:"dashboard-shell__content",children:[(0,r.jsx)("div",{className:"dashboard-head",children:s}),l]})]})}function D(e){let{greeting:a,subtitle:s,metrics:l,primaryCta:c,secondaryCta:n}=e,d=(0,C.Y3)();return(0,r.jsxs)(i.P.section,{className:"super-card hero-summary-card card-hover",...(0,C.XC)(d),children:[(0,r.jsx)("div",{className:"hero-summary-card__blob"}),(0,r.jsx)("div",{className:"hero-summary-card__blob hero-summary-card__blob--2"}),(0,r.jsxs)("div",{className:"relative z-[2]",children:[(0,r.jsx)("p",{className:"text-[0.72rem] uppercase tracking-[0.11em]",style:{color:"var(--text-3)"},children:"CEO View"}),(0,r.jsx)("h1",{className:"mt-2 text-[2.2rem] font-[540] tracking-[-0.03em]",style:{color:"var(--text)"},children:a}),(0,r.jsx)("p",{className:"mt-2 text-sm",style:{color:"var(--text-2)"},children:s}),(0,r.jsx)("div",{className:"mt-5 grid gap-2 sm:grid-cols-2 xl:grid-cols-4",children:l.map(e=>(0,r.jsxs)("article",{className:(0,S.cn)("hero-metric",I[e.tone]),children:[(0,r.jsx)("p",{className:"hero-metric__label",children:e.label}),(0,r.jsx)("p",{className:"hero-metric__value",children:e.value}),(0,r.jsx)("p",{className:"hero-metric__hint",children:e.hint})]},e.id))}),(0,r.jsxs)("div",{className:"mt-5 flex flex-wrap items-center gap-2.5",children:[(0,r.jsxs)(t(),{href:c.href,className:"btn btn-primary btn-sm",children:[(0,r.jsx)(o.A,{className:"h-3.5 w-3.5"}),c.label]}),(0,r.jsx)(t(),{href:n.href,className:"btn btn-secondary btn-sm",children:n.label})]})]})]})}function Y(e){let{events:a,feedHref:s}=e,l=(0,C.Y3)(),t=new Date().toLocaleDateString("pt-PT",{weekday:"long",day:"2-digit",month:"short"});return(0,r.jsxs)(i.P.section,{className:"super-card dark-insight-card dark-calendar-card card-hover",...(0,C.XC)(l),children:[(0,r.jsxs)("header",{className:"super-card__header",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{children:"Calend\xe1rio"}),(0,r.jsx)("p",{className:"super-card__subtitle",style:{color:"rgba(233, 240, 255, 0.68)"},children:t})]}),(0,r.jsx)(h.A,{className:"h-4 w-4"})]}),(0,r.jsx)("ol",{className:"dark-calendar-list",children:a.slice(0,4).map(e=>(0,r.jsxs)("li",{className:(0,S.cn)("dark-calendar-row",e.active&&"dark-calendar-row--active"),children:[(0,r.jsx)("span",{className:"dark-calendar-time",children:e.time}),(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("p",{className:"dark-calendar-title",children:e.title}),(0,r.jsx)("p",{className:"dark-calendar-subtitle",children:e.subtitle}),e.calendarHref?(0,r.jsx)("a",{href:e.calendarHref,className:"dark-calendar-add",download:!0,children:"Add to calendar"}):null]})]},e.id))}),s?(0,r.jsxs)("div",{className:"dark-calendar-feed",children:[(0,r.jsx)("p",{children:"Feed ICS para Apple/Outlook/Google:"}),(0,r.jsx)("a",{href:s,className:"dark-calendar-feed-link",children:s})]}):null]})}function F(e){let{label:a,value:s,hint:l}=e,t=(0,c.I)();return(0,r.jsxs)(i.P.article,{whileHover:t?void 0:{y:-2},transition:{duration:.2,ease:"easeOut"},className:"super-card compact-kpi-card",children:[(0,r.jsx)("p",{className:"compact-kpi-card__label",children:a}),(0,r.jsx)("p",{className:"compact-kpi-card__value",children:s}),(0,r.jsx)("p",{className:"compact-kpi-card__hint",children:l})]})}function O(e){let{title:a,subtitle:s,rows:l,className:c}=e,d=(0,C.Y3)(),o=(0,C.Pm)();return(0,r.jsxs)(i.P.section,{className:(0,S.cn)("super-card list-card card-hover",c),...(0,C.XC)(d),children:[(0,r.jsx)("header",{className:"super-card__header",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{children:a}),s?(0,r.jsx)("p",{className:"super-card__subtitle",children:s}):null]})}),(0,r.jsx)("div",{className:"list-card-rows",children:0===l.length?(0,r.jsx)("p",{className:"compact-table-empty",children:"Sem dados para mostrar."}):(0,r.jsx)(n.N,{initial:!1,children:l.slice(0,5).map(e=>(0,r.jsxs)(i.P.article,{className:"list-card-row",initial:!!o&&"initial",animate:o?"animate":void 0,exit:o?"exit":void 0,variants:C.HI.listItem,transition:C.bm.smooth,children:[(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,r.jsx)("p",{className:"list-card-row__title",children:e.title}),e.subtitle?(0,r.jsx)("p",{className:"list-card-row__subtitle",children:e.subtitle}):null]}),e.status?(0,r.jsx)("span",{className:"status-pill",children:e.status}):null,e.ctaHref&&e.ctaLabel?(0,r.jsx)(t(),{href:e.ctaHref,className:"pill-tab",children:e.ctaLabel}):null]},e.id))})})]})}function X(e){let{items:a}=e,s=(0,C.Y3)();return(0,r.jsxs)(i.P.section,{className:"super-card schedule-card card-hover",...(0,C.XC)(s),children:[(0,r.jsxs)("header",{className:"super-card__header",children:[(0,r.jsx)("h3",{children:"Schedule"}),(0,r.jsx)(h.A,{className:"h-4 w-4"})]}),(0,r.jsx)("ol",{className:"schedule-list",children:a.map(e=>(0,r.jsxs)("li",{className:(0,S.cn)("schedule-item",e.active&&"schedule-item--active"),children:[(0,r.jsx)("div",{className:"schedule-time",children:e.time}),(0,r.jsx)("div",{className:"schedule-dot"}),(0,r.jsxs)("div",{className:"schedule-content",children:[(0,r.jsx)("p",{className:"schedule-title",children:e.title}),(0,r.jsx)("p",{className:"schedule-subtitle",children:e.subtitle})]})]},e.id))})]})}function H(e){let{alerts:a}=e,s=(0,C.Y3)();return(0,r.jsxs)(i.P.section,{className:"super-card dark-insight-card card-hover",...(0,C.XC)(s),children:[(0,r.jsxs)("header",{className:"super-card__header",children:[(0,r.jsx)("h3",{children:"Guardrails"}),(0,r.jsx)(u.A,{className:"h-4 w-4"})]}),(0,r.jsx)("div",{className:"dark-insight-body",children:0===a.length?(0,r.jsxs)("div",{className:"dark-alert-row",children:[(0,r.jsx)(m.A,{className:"h-4 w-4"}),(0,r.jsx)("p",{children:"Sem alertas cr\xedticos hoje."})]}):a.slice(0,4).map((e,a)=>(0,r.jsxs)("div",{className:"dark-alert-row",children:["warn"===e.level?(0,r.jsx)(x.A,{className:"h-4 w-4"}):(0,r.jsx)(m.A,{className:"h-4 w-4"}),(0,r.jsx)("p",{children:e.text})]},"".concat(e.text,"-").concat(a)))})]})}function q(e){let{rows:a}=e,[s,l]=(0,k.useState)(""),t=(0,C.Y3)(),c=(0,k.useMemo)(()=>{let e=s.trim().toLowerCase();return e?a.filter(a=>a.name.toLowerCase().includes(e)||a.owner.toLowerCase().includes(e)):a},[s,a]);return(0,r.jsxs)(i.P.section,{className:"super-card table-card card-hover",...(0,C.XC)(t),children:[(0,r.jsxs)("header",{className:"super-card__header",children:[(0,r.jsx)("h3",{children:"Projects"}),(0,r.jsx)(L,{value:s,onChange:l,placeholder:"Search"})]}),(0,r.jsx)("div",{className:"compact-table-wrap",children:(0,r.jsxs)("table",{className:"compact-table",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Project"}),(0,r.jsx)("th",{children:"Owner"}),(0,r.jsx)("th",{children:"Status"}),(0,r.jsx)("th",{className:"text-right",children:"Value"})]})}),(0,r.jsxs)("tbody",{children:[c.slice(0,5).map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:e.name}),(0,r.jsx)("td",{children:e.owner}),(0,r.jsx)("td",{children:(0,r.jsx)("span",{className:"status-pill",children:e.status})}),(0,r.jsx)("td",{className:"text-right",children:(0,S.SS)(e.value)})]},e.id)),0===c.length?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:4,className:"compact-table-empty",children:"No projects found."})}):null]})]})})]})}function R(e){let{title:a,subtitle:s,className:l,children:t}=e,c=(0,C.Y3)();return(0,r.jsxs)(i.P.section,{className:(0,S.cn)("super-card chart-card card-hover",l),...(0,C.XC)(c),children:[(0,r.jsx)("header",{className:"super-card__header",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{children:a}),s?(0,r.jsx)("p",{className:"super-card__subtitle",children:s}):null]})}),t]})}function T(e){let{data:a}=e;return(0,r.jsx)("div",{className:"chart-box h-[200px]",children:(0,r.jsx)(p.u,{width:"100%",height:"100%",children:(0,r.jsxs)(j.b,{data:a,children:[(0,r.jsx)(N.d,{stroke:"rgba(22, 35, 55, 0.08)",strokeDasharray:"3 7",vertical:!1}),(0,r.jsx)(b.W,{dataKey:"month",tickLine:!1,axisLine:!1,tick:{fontSize:11,fill:"#8f98a8"}}),(0,r.jsx)(v.h,{hide:!0}),(0,r.jsx)(f.m,{formatter:e=>[(0,S.SS)(Number(null!=e?e:0)),"Forecast"],contentStyle:{borderRadius:14,border:"1px solid rgba(22, 35, 55, 0.12)",background:"var(--surface-2)"}}),(0,r.jsx)(g.N1,{type:"monotone",dataKey:"value",stroke:"var(--accent-blue)",strokeWidth:2.5,dot:!1,activeDot:{r:4,fill:"var(--accent-blue)"}})]})})})}function U(e){let{data:a}=e,s=a.reduce((e,a)=>e+a.value,0);return(0,r.jsxs)("div",{className:"donut-layout",children:[(0,r.jsx)("div",{className:"h-[190px] w-full",children:(0,r.jsx)(p.u,{width:"100%",height:"100%",children:(0,r.jsxs)(y.r,{children:[(0,r.jsx)(w.Fq,{data:a,dataKey:"value",nameKey:"name",innerRadius:54,outerRadius:80,paddingAngle:3,stroke:"transparent",children:a.map((e,a)=>(0,r.jsx)(_.f,{fill:P[a%P.length]},"".concat(e.name,"-").concat(a)))}),(0,r.jsx)(f.m,{formatter:(e,a)=>[(0,S.SS)(Number(null!=e?e:0)),String(null!=a?a:"")],contentStyle:{borderRadius:14,border:"1px solid rgba(22, 35, 55, 0.12)",background:"var(--surface-2)"}})]})})}),(0,r.jsxs)("div",{className:"donut-meta",children:[(0,r.jsx)("p",{className:"donut-total",children:(0,S.SS)(s)}),(0,r.jsx)("div",{className:"donut-legend",children:a.map((e,a)=>(0,r.jsxs)("div",{className:"donut-legend-row",children:[(0,r.jsx)("span",{className:"donut-dot",style:{background:P[a%P.length]}}),(0,r.jsx)("span",{children:e.name}),(0,r.jsxs)("span",{children:[Math.round(e.value/(s||1)*100),"%"]})]},e.name))})]})]})}function J(){return(0,r.jsx)(n.N,{children:(0,r.jsxs)(i.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"super-dashboard-skeleton",children:[(0,r.jsx)("div",{className:"skeleton h-10 w-40 rounded-full"}),(0,r.jsxs)("div",{className:"grid gap-5 md:grid-cols-2",children:[(0,r.jsx)("div",{className:"skeleton h-36 rounded-3xl"}),(0,r.jsx)("div",{className:"skeleton h-36 rounded-3xl"})]}),(0,r.jsx)("div",{className:"skeleton h-56 rounded-3xl"})]})})}},62890:(e,a,s)=>{s.d(a,{U:()=>l});var r=s(55417);function l(){return(0,r.createBrowserClient)("https://wjzcutnjnzxylzqysneg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndqemN1dG5qbnp4eWx6cXlzbmVnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEzMjYzMjcsImV4cCI6MjA4NjkwMjMyN30.bku3F43nks_Uq22Ag-viZZpMQfrw43eq3sahNChbBq8")}},63479:(e,a,s)=>{s.d(a,{D:()=>u,ThemeProvider:()=>h});var r=s(95155),l=s(12115),t=s(62890);let c=(0,l.createContext)({theme:"dark",setTheme:()=>{},toggleTheme:()=>{},dashboardMode:"ceo",setDashboardMode:()=>{},loaded:!1}),i="bp_theme",n="bp_dashboard_mode";function d(){let e=localStorage.getItem(i);return"light"===e||"dark"===e?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function o(){return"company"===localStorage.getItem(n)?"company":"ceo"}function h(e){let{children:a,userId:s}=e,[h,u]=(0,l.useState)(()=>d()),[m,x]=(0,l.useState)(()=>o()),[p,j]=(0,l.useState)(!1),N=(0,l.useRef)(null!=s?s:null),b=(0,l.useCallback)(async(e,a)=>{try{let l=(0,t.U)(),c=N.current;if(!c){var s,r;let{data:e}=await l.auth.getUser();N.current=c=null!=(r=null==(s=e.user)?void 0:s.id)?r:null}if(!c)return;await l.from("user_preferences").upsert({user_id:c,theme:e,dashboard_mode:a,updated_at:new Date().toISOString()},{onConflict:"user_id"})}catch(e){}},[]);(0,l.useEffect)(()=>{document.documentElement.setAttribute("data-theme",h),"undefined"!=typeof localStorage&&localStorage.setItem(i,h)},[h]),(0,l.useEffect)(()=>{"undefined"!=typeof localStorage&&localStorage.setItem(n,m)},[m]),(0,l.useEffect)(()=>{let e=!0;return(async()=>{try{let r=(0,t.U)(),l=N.current;if(!l){var a,s;let{data:e}=await r.auth.getUser();N.current=l=null!=(s=null==(a=e.user)?void 0:a.id)?s:null}if(!l){e&&j(!0);return}let{data:c}=await r.from("user_preferences").select("theme, dashboard_mode").eq("user_id",l).maybeSingle();if(!e)return;((null==c?void 0:c.theme)==="light"||(null==c?void 0:c.theme)==="dark")&&u(c.theme),((null==c?void 0:c.dashboard_mode)==="ceo"||(null==c?void 0:c.dashboard_mode)==="company")&&x(c.dashboard_mode),c||await b(d(),o())}catch(e){}finally{e&&j(!0)}})(),()=>{e=!1}},[b]);let v=(0,l.useCallback)(e=>{u(e),b(e,m)},[m,b]),f=(0,l.useCallback)(()=>{u(e=>{let a="dark"===e?"light":"dark";return b(a,m),a})},[m,b]),g=(0,l.useCallback)(e=>{x(e),b(h,e)},[b,h]),y=(0,l.useMemo)(()=>({theme:h,setTheme:v,toggleTheme:f,dashboardMode:m,setDashboardMode:g,loaded:p}),[h,v,f,m,g,p]);return(0,r.jsx)(c.Provider,{value:y,children:a})}function u(){return(0,l.useContext)(c)}},64269:(e,a,s)=>{s.d(a,{$C:()=>d,SS:()=>i,Sc:()=>c,Yv:()=>n,cn:()=>t,kz:()=>o});var r=s(2821),l=s(75889);function t(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,l.QP)((0,r.$)(a))}function c(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e.toLocaleString("pt-PT",{minimumFractionDigits:a,maximumFractionDigits:a})}function i(e){return e.toLocaleString("pt-PT",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2})}function n(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")}function d(){return Math.random().toString(36).slice(2,9)}function o(e){return new Date(e).toLocaleDateString("pt-PT")}}}]);