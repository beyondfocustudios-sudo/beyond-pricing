(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8649],{6191:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},23327:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},51425:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var a=t(95155),r=t(12115),c=t(52619),i=t.n(c),l=t(69434),n=t(62890),o=t(64269),d=t(6191),m=t(61194),h=t(93014);function u(){let[e,s]=(0,r.useState)([]),[t,c]=(0,r.useState)(!0),[u,p]=(0,r.useState)(null),x=(0,h.d)(),y=(0,r.useCallback)(async()=>{c(!0),p(null);let e=(0,n.U)(),{data:t,error:a}=await e.from("checklists").select("id, nome, project_id, created_at, projects(project_name)").order("created_at",{ascending:!1});a&&(x.error("Erro ao carregar checklists: ".concat(a.message)),p(a.message)),s(null!=t?t:[]),c(!1)},[x]);return(0,r.useEffect)(()=>{y()},[y]),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"page-header",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"page-title",children:"Checklists"}),(0,a.jsx)("p",{className:"page-subtitle",children:"Produ\xe7\xe3o em tr\xeas fases"})]}),(0,a.jsxs)(i(),{href:"/app/checklists/new",className:"btn btn-primary",children:[(0,a.jsx)(d.A,{className:"h-4 w-4"}),"Nova Checklist"]})]}),t?(0,a.jsx)("div",{className:"space-y-2",children:Array.from({length:3}).map((e,s)=>(0,a.jsx)("div",{className:"card",style:{padding:"1rem"},children:(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("div",{className:"skeleton h-10 w-10 rounded-lg shrink-0"}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsx)("div",{className:"skeleton h-4 w-40"}),(0,a.jsx)("div",{className:"skeleton h-3 w-28"})]})]})},s))}):u?(0,a.jsx)("div",{className:"card",children:(0,a.jsxs)("div",{className:"empty-state",children:[(0,a.jsx)(m.A,{className:"empty-icon"}),(0,a.jsx)("p",{className:"empty-title",children:"Erro ao carregar checklists"}),(0,a.jsx)("p",{className:"empty-desc",children:u}),(0,a.jsx)("button",{className:"btn btn-secondary btn-sm",onClick:y,children:"Tentar novamente"})]})}):0===e.length?(0,a.jsx)("div",{className:"card",children:(0,a.jsxs)("div",{className:"empty-state",children:[(0,a.jsx)(m.A,{className:"empty-icon"}),(0,a.jsx)("p",{className:"empty-title",children:"Sem checklists"}),(0,a.jsx)("p",{className:"empty-desc",children:"Cria checklists de pr\xe9-produ\xe7\xe3o, rodagem e p\xf3s-produ\xe7\xe3o"}),(0,a.jsxs)(i(),{href:"/app/checklists/new",className:"btn btn-primary btn-sm",children:[(0,a.jsx)(d.A,{className:"h-3.5 w-3.5"}),"Nova Checklist"]})]})}):(0,a.jsx)("div",{className:"space-y-2",children:e.map((e,s)=>{var t,r;return(0,a.jsx)(l.P.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.04*s},children:(0,a.jsxs)(i(),{href:"/app/checklists/".concat(e.id),className:"card card-hover flex items-center gap-3",style:{padding:"1rem 1.25rem"},children:[(0,a.jsx)("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg",style:{background:"rgba(124,58,237,0.12)"},children:(0,a.jsx)(m.A,{className:"h-5 w-5",style:{color:"#7c3aed"}})}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium truncate",style:{color:"var(--text)"},children:e.nome}),(0,a.jsxs)("p",{className:"text-xs",style:{color:"var(--text-3)"},children:[null!=(r=null==(t=e.projects)?void 0:t.project_name)?r:"Sem projeto"," \xb7 ",(0,o.kz)(e.created_at)]})]})]})},e.id)})})]})}},54279:(e,s,t)=>{Promise.resolve().then(t.bind(t,51425))},61194:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},61362:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},62890:(e,s,t)=>{"use strict";t.d(s,{U:()=>r});var a=t(55417);function r(){return(0,a.createBrowserClient)("https://wjzcutnjnzxylzqysneg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndqemN1dG5qbnp4eWx6cXlzbmVnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEzMjYzMjcsImV4cCI6MjA4NjkwMjMyN30.bku3F43nks_Uq22Ag-viZZpMQfrw43eq3sahNChbBq8")}},64269:(e,s,t)=>{"use strict";t.d(s,{$C:()=>o,SS:()=>l,Sc:()=>i,Yv:()=>n,cn:()=>c,kz:()=>d});var a=t(2821),r=t(75889);function c(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}function i(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e.toLocaleString("pt-PT",{minimumFractionDigits:s,maximumFractionDigits:s})}function l(e){return e.toLocaleString("pt-PT",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2})}function n(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")}function o(){return Math.random().toString(36).slice(2,9)}function d(e){return new Date(e).toLocaleDateString("pt-PT")}},65229:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},78874:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},93014:(e,s,t)=>{"use strict";t.d(s,{ToastProvider:()=>u,d:()=>d});var a=t(95155),r=t(12115),c=t(61362),i=t(78874),l=t(23327),n=t(65229);let o=(0,r.createContext)(null);function d(){let e=(0,r.useContext)(o);if(!e)throw Error("useToast must be used inside <ToastProvider>");return e}let m={success:(0,a.jsx)(c.A,{className:"h-4 w-4 shrink-0",style:{color:"#22c55e"}}),error:(0,a.jsx)(i.A,{className:"h-4 w-4 shrink-0",style:{color:"#ef4444"}}),info:(0,a.jsx)(l.A,{className:"h-4 w-4 shrink-0",style:{color:"var(--accent)"}})},h={success:"rgba(34,197,94,0.3)",error:"rgba(239,68,68,0.3)",info:"rgba(26,143,163,0.3)"};function u(e){let{children:s}=e,[t,c]=(0,r.useState)([]),i=(0,r.useRef)({}),l=(0,r.useCallback)(e=>{c(s=>s.filter(s=>s.id!==e)),i.current[e]&&(clearTimeout(i.current[e]),delete i.current[e])},[]),d=(0,r.useCallback)((e,s)=>{let t=Math.random().toString(36).slice(2);c(a=>[...a.slice(-4),{id:t,type:e,message:s}]),i.current[t]=setTimeout(()=>l(t),3500)},[l]),u=(0,r.useMemo)(()=>({success:e=>d("success",e),error:e=>d("error",e),info:e=>d("info",e)}),[d]);return(0,a.jsxs)(o.Provider,{value:u,children:[s,(0,a.jsx)("div",{"aria-live":"polite",className:"fixed bottom-5 right-4 z-[9999] flex flex-col gap-2 items-end pointer-events-none",style:{maxWidth:"min(380px, calc(100vw - 2rem))"},children:t.map(e=>(0,a.jsxs)("div",{role:"alert",className:"pointer-events-auto flex items-start gap-3 rounded-xl px-4 py-3 text-sm shadow-lg animate-toast-in",style:{background:"var(--surface-3)",border:"1px solid ".concat(h[e.type]),backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",color:"var(--text)",minWidth:"240px"},children:[m[e.type],(0,a.jsx)("p",{className:"flex-1 leading-snug",style:{color:"var(--text)"},children:e.message}),(0,a.jsx)("button",{onClick:()=>l(e.id),className:"shrink-0 mt-0.5 opacity-50 hover:opacity-100 transition-opacity","aria-label":"Fechar",children:(0,a.jsx)(n.A,{className:"h-3.5 w-3.5"})})]},e.id))}),(0,a.jsx)("style",{children:"\n        @keyframes toast-in {\n          from { opacity: 0; transform: translateY(8px) scale(0.96); }\n          to   { opacity: 1; transform: translateY(0) scale(1); }\n        }\n        .animate-toast-in { animation: toast-in 0.18s ease-out forwards; }\n      "})]})}}},e=>{e.O(0,[5417,6028,4909,2619,8441,1255,7358],()=>e(e.s=54279)),_N_E=e.O()}]);