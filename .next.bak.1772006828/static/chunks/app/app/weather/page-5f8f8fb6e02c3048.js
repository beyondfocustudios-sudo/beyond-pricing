(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9421],{7852:(e,a,l)=>{Promise.resolve().then(l.bind(l,62287))},62287:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>u});var t=l(95155),s=l(12115),r=l(71847);let o=(0,r.A)("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);var c=l(86651);let i=(0,r.A)("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),n=(0,r.A)("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]),d=(0,r.A)("Sunrise",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]),m=(0,r.A)("Sunset",[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]),x={0:{label:"C\xe9u limpo",emoji:"☀️"},1:{label:"Principalmente limpo",emoji:"\uD83C\uDF24️"},2:{label:"Parcialmente nublado",emoji:"⛅"},3:{label:"Nublado",emoji:"☁️"},45:{label:"Nevoeiro",emoji:"\uD83C\uDF2B️"},48:{label:"Nevoeiro gelado",emoji:"\uD83C\uDF2B️"},51:{label:"Chuvisco leve",emoji:"\uD83C\uDF26️"},53:{label:"Chuvisco moderado",emoji:"\uD83C\uDF26️"},55:{label:"Chuvisco intenso",emoji:"\uD83C\uDF27️"},61:{label:"Chuva leve",emoji:"\uD83C\uDF27️"},63:{label:"Chuva moderada",emoji:"\uD83C\uDF27️"},65:{label:"Chuva intensa",emoji:"\uD83C\uDF27️"},71:{label:"Neve leve",emoji:"\uD83C\uDF28️"},73:{label:"Neve moderada",emoji:"\uD83C\uDF28️"},75:{label:"Neve intensa",emoji:"❄️"},80:{label:"Aguaceiros leves",emoji:"\uD83C\uDF26️"},81:{label:"Aguaceiros moderados",emoji:"\uD83C\uDF27️"},82:{label:"Aguaceiros violentos",emoji:"⛈️"},95:{label:"Trovoada",emoji:"⛈️"},96:{label:"Trovoada com granizo",emoji:"⛈️"},99:{label:"Trovoada com granizo forte",emoji:"⛈️"}},h=["Lisboa","Porto","Braga","Faro","Funchal"];function u(){var e;let[a,l]=(0,s.useState)(""),[r,u]=(0,s.useState)(new Date().toISOString().split("T")[0]),[p,v]=(0,s.useState)(!1),[j,y]=(0,s.useState)(null),[b,N]=(0,s.useState)(null),g=async e=>{let l=null!=e?e:a;if(l.trim()){v(!0),N(null),y(null);try{let e=new URLSearchParams({location:l,date:r}),a=await fetch("/api/weather?".concat(e)),s=await a.json();if(a.ok)y(s);else{var t;N(null!=(t=s.error)?t:"Erro ao obter dados")}}catch(e){N("Erro de liga\xe7\xe3o")}finally{v(!1)}}},f=j?null!=(e=x[j.weathercode])?e:{label:"Desconhecido",emoji:"\uD83C\uDF21️"}:null,k=e=>{try{return new Date(e).toLocaleTimeString("pt-PT",{hour:"2-digit",minute:"2-digit"})}catch(a){return e}};return(0,t.jsxs)("div",{className:"space-y-6 max-w-2xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(o,{className:"h-6 w-6",style:{color:"var(--accent)"}}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-bold",style:{color:"var(--text)"},children:"Meteorologia"}),(0,t.jsx)("p",{className:"text-sm",style:{color:"var(--text-3)"},children:"Previs\xe3o do tempo"})]})]}),(0,t.jsxs)("div",{className:"card-glass rounded-xl p-5 space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{className:"input flex-1",placeholder:"Cidade ou local...",value:a,onChange:e=>l(e.target.value),onKeyDown:e=>"Enter"===e.key&&g()}),(0,t.jsx)("input",{className:"input w-40",type:"date",value:r,onChange:e=>u(e.target.value)}),(0,t.jsx)("button",{className:"btn btn-primary",onClick:()=>g(),disabled:p||!a.trim(),children:(0,t.jsx)(c.A,{className:"h-4 w-4"})})]}),(0,t.jsx)("div",{className:"flex gap-2 flex-wrap",children:h.map(e=>(0,t.jsx)("button",{className:"btn btn-ghost btn-sm",onClick:()=>{l(e),g(e)},children:e},e))})]}),p&&(0,t.jsxs)("div",{className:"card-glass rounded-xl p-10 text-center",children:[(0,t.jsx)("div",{className:"animate-spin h-8 w-8 border-2 rounded-full mx-auto",style:{borderColor:"var(--accent)",borderTopColor:"transparent"}}),(0,t.jsx)("p",{className:"mt-3 text-sm",style:{color:"var(--text-3)"},children:"A carregar..."})]}),b&&(0,t.jsx)("div",{className:"rounded-xl p-4 text-sm",style:{background:"rgba(239,68,68,0.1)",border:"1px solid rgba(239,68,68,0.3)",color:"#ef4444"},children:b}),j&&f&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"card-glass rounded-xl p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold",style:{color:"var(--text)"},children:j.location}),(0,t.jsx)("p",{className:"text-sm",style:{color:"var(--text-3)"},children:new Date(j.date).toLocaleDateString("pt-PT",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]}),j.fromCache&&(0,t.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full",style:{background:"var(--surface-2)",color:"var(--text-3)"},children:"cache"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("span",{className:"text-6xl",children:f.emoji}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:f.label}),(0,t.jsxs)("p",{className:"text-3xl font-bold",style:{color:"var(--accent)"},children:[j.temperature_min.toFixed(0),"\xb0 – ",j.temperature_max.toFixed(0),"\xb0C"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[(0,t.jsxs)("div",{className:"rounded-lg p-3 text-center",style:{background:"var(--surface-2)"},children:[(0,t.jsx)(i,{className:"h-4 w-4 mx-auto mb-1",style:{color:"#60a5fa"}}),(0,t.jsxs)("p",{className:"text-sm font-semibold",style:{color:"var(--text)"},children:[j.precipitation_sum.toFixed(1)," mm"]}),(0,t.jsx)("p",{className:"text-xs",style:{color:"var(--text-3)"},children:"Precipita\xe7\xe3o"})]}),(0,t.jsxs)("div",{className:"rounded-lg p-3 text-center",style:{background:"var(--surface-2)"},children:[(0,t.jsx)(n,{className:"h-4 w-4 mx-auto mb-1",style:{color:"#94a3b8"}}),(0,t.jsxs)("p",{className:"text-sm font-semibold",style:{color:"var(--text)"},children:[j.windspeed_max.toFixed(0)," km/h"]}),(0,t.jsx)("p",{className:"text-xs",style:{color:"var(--text-3)"},children:"Vento m\xe1x."})]}),(0,t.jsxs)("div",{className:"rounded-lg p-3 text-center",style:{background:"var(--surface-2)"},children:[(0,t.jsx)(d,{className:"h-4 w-4 mx-auto mb-1",style:{color:"#fbbf24"}}),(0,t.jsx)("p",{className:"text-sm font-semibold",style:{color:"var(--text)"},children:k(j.sunrise)}),(0,t.jsx)("p",{className:"text-xs",style:{color:"var(--text-3)"},children:"Nascer sol"})]}),(0,t.jsxs)("div",{className:"rounded-lg p-3 text-center",style:{background:"var(--surface-2)"},children:[(0,t.jsx)(m,{className:"h-4 w-4 mx-auto mb-1",style:{color:"#f97316"}}),(0,t.jsx)("p",{className:"text-sm font-semibold",style:{color:"var(--text)"},children:k(j.sunset)}),(0,t.jsx)("p",{className:"text-xs",style:{color:"var(--text-3)"},children:"P\xf4r do sol"})]})]})]}),j.hourly&&(0,t.jsxs)("div",{className:"card-glass rounded-xl p-4 space-y-3",children:[(0,t.jsx)("p",{className:"text-sm font-semibold",style:{color:"var(--text-2)"},children:"Previs\xe3o hor\xe1ria"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsx)("div",{className:"flex gap-3 pb-2",style:{minWidth:"max-content"},children:j.hourly.time.map((e,a)=>{var l;let s=new Date(e).getHours(),r=null!=(l=x[j.hourly.weathercode[a]])?l:{emoji:"\uD83C\uDF21️"};return(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1 min-w-[48px] rounded-lg p-2",style:{background:"var(--surface-2)"},children:[(0,t.jsxs)("span",{className:"text-xs",style:{color:"var(--text-3)"},children:[s.toString().padStart(2,"0"),"h"]}),(0,t.jsx)("span",{className:"text-lg",children:r.emoji}),(0,t.jsxs)("span",{className:"text-xs font-semibold",style:{color:"var(--text)"},children:[j.hourly.temperature_2m[a].toFixed(0),"\xb0"]})]},e)})})})]})]})]})}},71847:(e,a,l)=>{"use strict";l.d(a,{A:()=>c});var t=l(12115);let s=function(){for(var e=arguments.length,a=Array(e),l=0;l<e;l++)a[l]=arguments[l];return a.filter((e,a,l)=>!!e&&""!==e.trim()&&l.indexOf(e)===a).join(" ").trim()};var r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,t.forwardRef)((e,a)=>{let{color:l="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:i,className:n="",children:d,iconNode:m,...x}=e;return(0,t.createElement)("svg",{ref:a,...r,width:o,height:o,stroke:l,strokeWidth:i?24*Number(c)/Number(o):c,className:s("lucide",n),...x},[...m.map(e=>{let[a,l]=e;return(0,t.createElement)(a,l)}),...Array.isArray(d)?d:[d]])}),c=(e,a)=>{let l=(0,t.forwardRef)((l,r)=>{let{className:c,...i}=l;return(0,t.createElement)(o,{ref:r,iconNode:a,className:s("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),c),...i})});return l.displayName="".concat(e),l}},86651:(e,a,l)=>{"use strict";l.d(a,{A:()=>t});let t=(0,l(71847).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}},e=>{e.O(0,[8441,1255,7358],()=>e(e.s=7852)),_N_E=e.O()}]);